根据提供的代码内容，以下是对 `app.py` 文件中定义的接口整理和生成的接口文档：

---

### **接口文档**

#### **1. 首页**
- **URL**: `/`
- **方法**: GET
- **描述**: 返回首页 HTML 页面。
- **返回值**:
  - 响应类型: `HTMLResponse`
  - 内容: 渲染的 `index.html` 模板。

---

#### **2. 文件下载**
- **URL**: `/download`
- **方法**: GET
- **参数**:
  - `file_path` (字符串): 文件路径。
- **描述**: 提供文件下载功能。
- **返回值**:
  - 如果文件存在: 返回文件作为响应 (`FileResponse`)。
  - 如果文件不存在: 返回 404 错误。

---

#### **3. 创建任务**
- **URL**: `/tasks`
- **方法**: POST
- **参数**:
  - `prompt` (字符串): 任务提示信息，通过请求体传递。
- **描述**: 创建一个新的任务并启动异步运行。
- **返回值**:
  - 成功: 返回任务 ID (`task_id`)。
  - 失败: 返回错误信息。

---

#### **4. 获取任务事件流**
- **URL**: `/tasks/{task_id}/events`
- **方法**: GET
- **参数**:
  - `task_id` (字符串): 任务 ID。
- **描述**: 提供任务的实时事件流（基于 Server-Sent Events, SSE）。
- **返回值**:
  - 响应类型: `StreamingResponse`
  - 内容: 实时更新的任务状态和步骤信息。

---

#### **5. 获取所有任务**
- **URL**: `/tasks`
- **方法**: GET
- **描述**: 获取所有任务的列表，按创建时间倒序排列。
- **返回值**:
  - 响应类型: `JSONResponse`
  - 内容: 所有任务的详细信息（包括任务 ID、提示信息、创建时间、状态和步骤）。

---

#### **6. 获取单个任务**
- **URL**: `/tasks/{task_id}`
- **方法**: GET
- **参数**:
  - `task_id` (字符串): 任务 ID。
- **描述**: 获取指定任务的详细信息。
- **返回值**:
  - 如果任务存在: 返回任务的详细信息。
  - 如果任务不存在: 返回 404 错误。

---

#### **7. 检查配置状态**
- **URL**: `/config/status`
- **方法**: GET
- **描述**: 检查配置文件的状态。
- **返回值**:
  - 如果配置文件存在: 返回 `{"status": "exists"}`。
  - 如果配置文件缺失但示例文件存在: 返回示例配置内容。
  - 如果示例文件也不存在: 返回 `{"status": "no_example"}`。
  - 如果读取示例文件失败: 返回错误信息。

---

#### **8. 保存配置**
- **URL**: `/config/save`
- **方法**: POST
- **参数**:
  - `config_data` (字典): 配置数据，通过请求体传递。
- **描述**: 保存用户提供的配置到 `config.toml` 文件。
- **返回值**:
  - 成功: 返回 `{"status": "success"}`。
  - 失败: 返回错误信息。

---

#### **9. 全局异常处理**
- **URL**: `/`
- **方法**: 所有 HTTP 方法
- **描述**: 捕获全局异常并返回统一的错误响应。
- **返回值**:
  - 响应类型: `JSONResponse`
  - 内容: 错误信息，格式为 `{"message": "Server error: <error_message>"}`。

---

### **其他功能**
- **自动打开浏览器**: 程序启动后会自动在默认浏览器中打开应用页面。
- **加载配置**: 从 `config/config.toml` 文件加载服务器配置，默认使用 `localhost:5172`。

---

### **总结**
以上接口涵盖了任务管理、文件下载、配置管理以及异常处理等功能。这些接口可以用于构建一个完整的任务管理系统，支持前端与后端的交互。